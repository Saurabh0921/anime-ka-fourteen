<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AKF - Anime Ka Fourteen</title>
  <script src="https://unpkg.com/lucide@latest"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<link rel="manifest" href="manifest.json" />
<meta name="theme-color" content="#4fbcff" />
<link rel="apple-touch-icon" href="icons/icon-192.png" />
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('sw.js');
    });
  }
</script>
  <style>

  html {
    scroll-behavior: smooth;
  }

  .genre-highlight {
    animation: flash-bg 1s ease-in-out;
  }

  @keyframes flash-bg {
    0% { background-color: rgba(255, 255, 0, 0.2); }
    100% { background-color: transparent; }
  }

    body.dark {
      background-color: #111827;
      color: white;
    }

    .card:hover {
      transform: scale(1.02);
      transition: 0.3s ease-in-out;
    }

    .card-content {
      display: none;
    }
    .card-content {
  transition: max-height 0.3s ease-in-out;
}

    .card.expanded .card-content {
      display: block;
    }

    #sidebar {
      transition: transform 0.3s ease-in-out;
      transform: translateX(-100%);
    }

    #sidebar.open {
      transform: translateX(0);
    }

    #overlay {
      transition: opacity 0.3s ease-in-out;
    }

    .bg-light {
      background-color: #f9fafb;
      color: #1f2937;
    }

    .dark .bg-light {
      background-color: #1f2937;
      color: white;
    }

    .dark .text-gray-900 {
      color: white !important;
    }

    .dark .text-gray-500 {
      color: #9ca3af !important;
    }
searchInput {
  transition: all 0.3s ease-in-out;
}

.bg-light {
  background-color: #f9fafb;
  color: #1f2937;
}

.dark .bg-light {
  background-color: #1f2937;
  color: white;
}

.dark .text-gray-900 {
  color: white !important;
}

.dark .text-gray-500 {
  color: #9ca3af !important;
}
  </style>
</head>
<body class="bg-white text-gray-800 dark:bg-gray-900 dark:text-white transition-all">

<!-- Navbar -->
<nav class="flex justify-between items-center p-4 bg-gray-100 dark:bg-gray-800 shadow text-gray-900 dark:text-white relative">
  <div class="flex items-center gap-4">
    <button id="menuToggle" class="p-2 rounded bg-gray-300 dark:bg-gray-700 text-black dark:text-white z-10">
      <i data-lucide="menu" class="w-5 h-5"></i>
    </button>
    <h1 id="siteTitle" class="text-xl font-bold transition-all duration-300">AKF - Anime Ka Fourteen</h1>
  </div>
  <!-- Search Bar (centered) -->
  <div id="searchBarWrapper" class="absolute inset-0 flex justify-center items-center pointer-events-none">
    <input
      id="searchInput"
      type="text"
      placeholder="Search anime..."
      class="w-2/3 md:w-1/3 px-4 py-2 rounded-full border-none outline-none text-black dark:text-white bg-gray-200 dark:bg-gray-700 opacity-0 scale-95 transition-all duration-300 pointer-events-auto"
    />
  </div>
  <div class="flex items-center gap-4 z-10">
    <button id="searchToggle" class="p-2 rounded bg-gray-300 dark:bg-gray-700 text-black dark:text-white">
      <i id="searchIcon" data-lucide="search" class="w-5 h-5"></i>
    </button>
    <button id="themeToggle" class="p-2 rounded bg-gray-300 dark:bg-gray-700 text-black dark:text-white">
      <i id="themeIcon" data-lucide="moon" class="w-5 h-5"></i>
    </button>
  </div>
</nav>
      </button>
    </div>
  </nav>

  <!-- Sidebar -->
  <aside id="sidebar" class="fixed top-0 left-0 h-full w-48 bg-gray-200 dark:bg-gray-800 p-4 space-y-4 z-50">
    <a href="#home" class="block font-semibold hover:underline">Home</a>
    <a href="#popular" class="block font-semibold hover:underline">Popular</a>
    <a href="#genres" class="block font-semibold hover:underline">Genres</a>
    <a href="#settings" class="block font-semibold hover:underline">Settings</a>
  </aside>

  <!-- Overlay -->
  <div id="overlay" class="fixed inset-0 bg-black bg-opacity-40 hidden z-40"></div>
<!-- Search Results Section (hidden by default) -->
<section id="searchResults" class="p-4 hidden">
  <h2 class="text-2xl font-semibold mb-4">Search Results</h2>
  <div id="resultsContainer" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
</section>
  <!-- Main Content -->
  <main id="mainContent" class="p-4 transition-all">
    <!-- Home Section -->
    <section id="home" class="mb-10">
      <h2 class="text-2xl font-semibold mb-4">Welcome to AKF!</h2>
<div id="randomBanner" class="relative h-48 rounded-xl shadow-md flex items-center justify-center text-white font-bold text-xl cursor-pointer transition duration-300 bg-cover bg-center overflow-hidden">
  <div id="bannerText" class="z-10">Loading anime...</div>
  
  <!-- Buttons -->
  <button id="prevBtn" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 px-2 py-1 rounded-full z-10 hover:bg-opacity-70">‹</button>
  <button id="nextBtn" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 px-2 py-1 rounded-full z-10 hover:bg-opacity-70">›</button>
  
  <!-- Optional: dark overlay for text readability -->
  <div class="absolute inset-0 bg-black bg-opacity-30 z-0 rounded-xl"></div>
</div>
    </section>

    <!-- Popular Section -->
    <section id="popular" class="mb-10">
      <h2 class="text-2xl font-semibold mb-4">Popular Anime</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="card bg-light p-4 rounded-xl shadow cursor-pointer" onclick="this.classList.toggle('expanded')">
          <div class="flex items-center justify-between">
            <div>
              <h3 class="font-bold text-lg text-gray-900 dark:text-white">Attack on Titan</h3>
              <p class="text-sm text-gray-500 dark:text-gray-400">Action, Drama</p>
            </div>
            <img src="https://via.placeholder.com/100" class="rounded" />
          </div>
          <div class="card-content mt-2 text-gray-700 dark:text-gray-300">
            <p>A battle between humanity and titans with intense drama and suspense.</p>
          </div>
        </div>
      </div>
    </section>

<!-- Your existing head and layout remain intact above this line --><!-- Genres Section -->
<section id="genres" class="mb-10">
  <h2 class="text-2xl font-semibold mb-4">Anime Genres</h2>
  <div id="genreCards" class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <!-- Example Genre Card -->
  <script>
const genres = [
  {
    name: "Action",
    icon: "swords",
    desc: "High-energy battles, physical confrontations, intense pacing.",
    href: "/action.html"
  },
  {
    name: "Adventure",
    icon: "mountain",
    desc: "Exploration, quests, discovering new worlds and challenges.",
    href: "genre/adventure.html"
  },
  {
    name: "Comedy",
    icon: "laugh",
    desc: "Humor-driven stories meant to entertain and lighten moods.",
    href: "genre/comedy.html"
  },
  {
    name: "Romance",
    icon: "heart",
    desc: "Focus on love stories, relationships, and emotional bonds.",
    href: "genre/romance.html"
  },
  {
    name: "Fantasy",
    icon: "sparkles",
    desc: "Magical settings, mythical creatures, and supernatural powers.",
    href: "genre/fantasy.html"
  },
  {
    name: "Psychological",
    icon: "brain",
    desc: "Deep character studies, mental battles, mind games.",
    href: "genre/psychological.html"
  },
  {
    name: "Horror",
    icon: "ghost",
    desc: "Dark themes, suspense, fear-inducing settings, and psychological terror.",
    href: "genre/horror.html"
  },
  {
    name: "Mystery",
    icon: "search",
    desc: "Puzzles, investigations, and uncovering hidden truths.",
    href: "genre/mystery.html"
  },
  {
    name: "Sci-Fi",
    icon: "tv",
    desc: "Futuristic technology, space exploration, and alternate realities.",
    href: "genre/sci-fi.html"
  },
  {
    name: "Drama",
    icon: "theater",
    desc: "Emotionally intense stories often focusing on character growth and conflict.",
    href: "genre/drama.html"
  },
  {
    name: "Slice of Life",
    icon: "coffee",
    desc: "Everyday life, character-driven narratives, and personal growth.",
    href: "genre/slice-of-life.html"
  },
  {
    name: "Sports",
    icon: "trophy",
    desc: "Competition, teamwork, and overcoming challenges in various sports.",
    href: "genre/sports.html"
  },
  {
    name: "Supernatural",
    icon: "moon",
    desc: "Incorporation of supernatural elements like ghosts, demons, and magic.",
    href: "genre/supernatural.html"
  },
  {
    name: "Seinen",
    icon: "user",
    desc: "Mature content aimed at adult men, with complex themes and deeper storylines.",
    href: "genre/seinen.html"
  },
  {
    name: "Shonen",
    icon: "zap",
    desc: "Action-packed stories aimed at young boys, featuring strong heroes and adventure.",
    href: "genre/shonen.html"
  },
  {
    name: "Josei",
    icon: "flower",
    desc: "Mature content aimed at adult women, often focused on romance and relationships.",
    href: "genre/josei.html"
  },
  {
    name: "Isekai",
    icon: "rotate-3d",
    desc: "Stories involving characters transported to parallel worlds or alternate realities.",
    href: "genre/isekai.html"
  },
  {
    name: "Historical",
    icon: "scroll",
    desc: "Takes place in historical periods, often blending real-world events with fiction.",
    href: "genre/historical.html"
  },
  {
    name: "Military",
    icon: "shield",
    desc: "Focuses on warfare, soldiers, and military conflicts.",
    href: "genre/military.html"
  },
  {
    name: "Magical Girl",
    icon: "wand",
    desc: "Typically young girls who gain magical powers to protect the world.",
    href: "genre/magical-girl.html"
  },
  {
    name: "Mecha",
    icon: "bot",
    desc: "Robots and giant machines, often with futuristic or dystopian themes.",
    href: "genre/mecha.html"
  },
  {
    name: "Music",
    icon: "music",
    desc: "Music-based stories, often featuring performances or musical competitions.",
    href: "genre/music.html"
  },
  {
    name: "Yaoi",
    icon: "hand",
    desc: "Stories centered on male/male romantic or sexual relationships.",
    href: "genre/yaoi.html"
  },
  {
    name: "Yuri",
    icon: "hand-heart",
    desc: "Stories centered on female/female romantic or sexual relationships.",
    href: "genre/yuri.html"
  }
];

const container = document.getElementById("genreCards");

genres.forEach(({ name, icon, desc, href }) => {
  const card = document.createElement("a");
  card.href = href;
  card.className = "block";
  card.innerHTML = `
    <div class="flex items-center gap-4 p-4 rounded-lg bg-light dark:bg-gray-800 shadow hover:bg-gray-100 dark:hover:bg-gray-700 transition">
      <i data-lucide="${icon}" class="w-6 h-6 text-gray-900 dark:text-white"></i>
      <div>
        <h3 class="font-semibold text-lg text-gray-900 dark:text-white">${name}</h3>
        <p class="text-sm text-gray-500 dark:text-gray-400">${desc}</p>
      </div>
    </div>
  `;
  container.appendChild(card);
});

lucide.createIcons();
</script>

  </div>
</section><!-- Genre Anime Sections --><section id="genre-action" class="mb-10">
  <h2 class="text-2xl font-bold mb-4">Action Anime</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
  <a href="naruto.html" class="block group">
  <div class="card bg-light dark:bg-gray-800 p-4 rounded-xl shadow cursor-pointer transform transition-transform group-hover:scale-105">
    <div class="flex items-center justify-between">
      <div>
        <h3 class="font-bold text-lg text-gray-900 dark:text-white">Naruto</h3>
        <p class="text-sm text-gray-500 dark:text-gray-400">Action, Ninja</p>
      </div>
      <img src="https://via.placeholder.com/100" class="rounded" />
    </div>
    <div class="card-content mt-2 text-gray-700 dark:text-gray-300 max-h-0 overflow-hidden transition-all duration-300 group-hover:max-h-40">
      <p class="mt-2">A young ninja seeks recognition and dreams of becoming the strongest leader of his village.</p>
    </div>
  </div>
</a>
  </div>
  
</section><section id="genre-romance" class="mb-10">
  <h2 class="text-2xl font-bold mb-4">Romance Anime</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="card bg-light p-4 rounded-xl shadow cursor-pointer" onclick="this.classList.toggle('expanded')">
      <div class="flex items-center justify-between">
        <div>
          <h3 class="font-bold text-lg text-gray-900 dark:text-white">Your Lie in April</h3>
          <p class="text-sm text-gray-500 dark:text-gray-400">Romance, Music</p>
        </div>
        <img src="https://via.placeholder.com/100" class="rounded" />
      </div>
      <div class="card-content mt-2 text-gray-700 dark:text-gray-300">
        <p>A piano prodigy rediscovers his love for music through an inspiring violinist.</p>
      </div>
    </div>
  </div>
</section><section id="genre-comedy" class="mb-10">
  <h2 class="text-2xl font-bold mb-4">Comedy Anime</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="card bg-light p-4 rounded-xl shadow cursor-pointer" onclick="this.classList.toggle('expanded')">
      <div class="flex items-center justify-between">
        <div>
          <h3 class="font-bold text-lg text-gray-900 dark:text-white">Gintama</h3>
          <p class="text-sm text-gray-500 dark:text-gray-400">Comedy, Parody</p>
        </div>
        <img src="https://via.placeholder.com/100" class="rounded" />
      </div>
      <div class="card-content mt-2 text-gray-700 dark:text-gray-300">
        <p>Samurai in a sci-fi era doing odd jobs while parodying everything under the sun.</p>
      </div>
    </div>
  </div>
</section><!-- Repeat more genre sections like above for Fantasy, Psychological, etc. -->
  </main>

  <!-- Scripts -->
  <script>
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const menuToggle = document.getElementById('menuToggle');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');

    function updateThemeIcon() {
      themeIcon.setAttribute('data-lucide', document.body.classList.contains('dark') ? 'sun' : 'moon');
      lucide.createIcons();
    }

    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      updateThemeIcon();
    });

    menuToggle.addEventListener('click', () => {
      sidebar.classList.toggle('open');
      overlay.classList.toggle('hidden');
    });

    overlay.addEventListener('click', () => {
      sidebar.classList.remove('open');
      overlay.classList.add('hidden');
    });

    // Swipe for mobile
    let touchStartX = 0;
    let touchEndX = 0;

    document.addEventListener('touchstart', e => {
      touchStartX = e.changedTouches[0].screenX;
    });

    document.addEventListener('touchend', e => {
      touchEndX = e.changedTouches[0].screenX;
      const swipeDistance = touchEndX - touchStartX;
      const isMobile = window.innerWidth < 768;

      if (!isMobile) return;

      if (swipeDistance > 80 && touchStartX < 40) {
        sidebar.classList.add('open');
        overlay.classList.remove('hidden');
      } else if (swipeDistance < -80) {
        sidebar.classList.remove('open');
        overlay.classList.add('hidden');
      }
    });

    window.addEventListener('DOMContentLoaded', () => {
      sidebar.classList.remove('open');
      overlay.classList.add('hidden');
      updateThemeIcon();
    });

const searchToggle = document.getElementById('searchToggle');
const searchInput = document.getElementById('searchInput');
const searchBarWrapper = document.getElementById('searchBarWrapper');
const siteTitle = document.getElementById('siteTitle');

let searchOpen = false;

searchToggle.addEventListener('click', () => {
  searchOpen = !searchOpen;

  const searchResultsSection = document.getElementById('searchResults');
  const mainContent = document.getElementById('mainContent');

  if (searchOpen) {
    // Open search input
    siteTitle.classList.add('opacity-0', 'pointer-events-none');
    searchInput.classList.remove('opacity-0', 'scale-95');
    searchInput.classList.add('opacity-100', 'scale-100');
    searchInput.focus();
  } else {
    // Close search input
    siteTitle.classList.remove('opacity-0', 'pointer-events-none');
    searchInput.classList.remove('opacity-100', 'scale-100');
    searchInput.classList.add('opacity-0', 'scale-95');
    
    // Clear input text
    searchInput.value = '';

    // Hide search results, show original content
    searchResultsSection.classList.add('hidden');
    mainContent.classList.remove('hidden');

    // Collapse any expanded cards
    document.querySelectorAll('.card.expanded').forEach(card => {
      card.classList.remove('expanded');
    });
  }
});
// Sidebar links: scroll & close sidebar
document.querySelectorAll('#sidebar a[href^="#"]').forEach(link => {
  link.addEventListener('click', e => {
    e.preventDefault();
    const targetId = link.getAttribute('href');
    const section = document.querySelector(targetId);

    if (section) {
      section.scrollIntoView({ behavior: 'smooth' });
      section.classList.add('genre-highlight');
      setTimeout(() => section.classList.remove('genre-highlight'), 1000);
    }

    // Close sidebar after click
    sidebar.classList.remove('open');
    overlay.classList.add('hidden');
  });
});

  function normalize(str) {
    return str.toLowerCase().replace(/\s+/g, '');
  }

  searchInput.addEventListener('input', () => {
  const query = normalize(searchInput.value);
  const allCards = document.querySelectorAll('.card');
  const resultsContainer = document.getElementById('resultsContainer');
  const searchResultsSection = document.getElementById('searchResults');
  const mainContent = document.getElementById('mainContent');

  resultsContainer.innerHTML = '';

  if (query === '') {
    searchResultsSection.classList.add('hidden');
    mainContent.classList.remove('hidden');
    allCards.forEach(card => card.style.display = '');
    return;
  }

  const shownTitles = new Set();
  let matches = 0;

  allCards.forEach(card => {
    const title = normalize(card.querySelector('h3')?.innerText || '');
    const genres = normalize(card.querySelector('p')?.innerText || '');

    if ((title.includes(query) || genres.includes(query)) && !shownTitles.has(title)) {
      const clone = card.cloneNode(true);
      resultsContainer.appendChild(clone);
      shownTitles.add(title);
      matches++;
    }
  });

  if (matches > 0) {
    mainContent.classList.add('hidden');
    searchResultsSection.classList.remove('hidden');
  } else {
    resultsContainer.innerHTML = '<p class="text-gray-400">No results found.</p>';
    mainContent.classList.add('hidden');
    searchResultsSection.classList.remove('hidden');
  }
});

    lucide.createIcons();
  </script>
<script>
  const randomBanner = document.getElementById("randomBanner");
  const bannerText = document.getElementById("bannerText");
  const nextBtn = document.getElementById("nextBtn");
  const prevBtn = document.getElementById("prevBtn");

  const animeList = [
    { title: "Naruto", url: "naruto.html", image: "https://wallpapercave.com/wp/wp1839614.jpg" },
    { title: "Attack on Titan", url: "#", image: "https://wallpapercave.com/wp/wp7418490.jpg" },
    { title: "Your Lie in April", url: "#", image: "https://wallpapercave.com/wp/wp4429137.jpg" },
    { title: "Gintama", url: "#", image: "https://wallpapercave.com/wp/wp6993322.jpg" },
    { title: "Death Note", url: "#", image: "https://wallpapercave.com/wp/wp2357990.jpg" },
    { title: "One Piece", url: "#", image: "https://wallpapercave.com/wp/wp6539100.jpg" },
    { title: "Demon Slayer", url: "#", image: "https://wallpapercave.com/wp/wp5755844.jpg" },
    { title: "Fullmetal Alchemist", url: "#", image: "https://wallpapercave.com/wp/wp2584957.jpg" },
    { title: "Jujutsu Kaisen", url: "#", image: "https://wallpapercave.com/wp/wp7241913.jpg" },
    { title: "Spy x Family", url: "#", image: "https://wallpapercave.com/wp/wp11454440.jpg" }
  ];

  let currentIndex = Math.floor(Math.random() * animeList.length);
  let bannerInterval;

  function showAnime(index) {
    const anime = animeList[index];
    bannerText.textContent = anime.title;
    randomBanner.style.backgroundImage = `url('${anime.image}')`;
    randomBanner.onclick = () => window.location.href = anime.url;
  }

  function nextAnime() {
    currentIndex = (currentIndex + 1) % animeList.length;
    showAnime(currentIndex);
    resetInterval();
  }

  function prevAnime() {
    currentIndex = (currentIndex - 1 + animeList.length) % animeList.length;
    showAnime(currentIndex);
    resetInterval();
  }

  function resetInterval() {
    clearInterval(bannerInterval);
    bannerInterval = setInterval(nextAnime, 3000); // Change every 10 seconds
  }

  nextBtn.addEventListener("click", (e) => {
  e.stopPropagation(); // Prevent banner click
  nextAnime();
});

prevBtn.addEventListener("click", (e) => {
  e.stopPropagation(); // Prevent banner click
  prevAnime();
});

  showAnime(currentIndex);
  bannerInterval = setInterval(nextAnime, 3000);
</script>
</body>
</html>
